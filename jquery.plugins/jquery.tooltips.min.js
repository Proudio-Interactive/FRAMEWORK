/*

    Workable / Testable jQuery Default Plugin Boilerplate
    V1.5.4 - 12/07/13 - Molokoloco - Copyleft

        Demo : http://jsfiddle.net/molokoloco/E3DbT/
        Download : https://github.com/molokoloco/FRAMEWORK/blob/master/jquery.plugins/jquery.tooltips.js
        Blog : http://www.b2bweb.fr/molokoloco/jquery-default-plugin/

    Sources code examples (jQuery Plugins Patterns Boilerplates) :

        http://docs.jquery.com/Plugins/Authoring
        https://github.com/jquery-boilerplate/patterns/tree/master/patterns
        http://addyosmani.com/resources/essentialjsdesignpatterns/book/#designpatternsjquery
        http://coding.smashingmagazine.com/2011/10/11/essential-jquery-plugin-patterns/
        http://kenneth.kufluk.com/blog/2010/08/chaining-asynchronous-methods-in-jquery-using-the-queue/
*/

(function(c){debug=!1;var f={reposition:function(a){var b=a.pageX+20;a=a.pageY+20;c(this).data("tooltip").tooltip.css({top:a+"px",left:b+"px"})},show:function(a){debug&&console.log("tooltip.show()");a=c(this);var b=a.data("tooltip");b.tooltip||(b.tooltip=c('<div class="'+b.options.css+'">'+b.title+"</div>").hide().appendTo("body"),a.data("tooltip",b));b.tooltip.hide().fadeIn(600);a.on("mousemove.tooltip",c.proxy(f.reposition,this))},hide:function(a){debug&&console.log("tooltip.hide()");a=c(this);
var b=a.data("tooltip");a.off("mousemove.tooltip");b&&b.tooltip&&b.tooltip.stop(!0,!1).fadeOut(400)}},e={init:function(a){debug&&console.log("tooltip.init()");a=c.extend(!0,{},c.fn.tooltip.defaults,"object"==typeof a&&a);return this.each(function(){var b=c(this),d=b.data("tooltip");if(!d){var d=b.data("tooltip")||b.attr("title")||b.attr("href"),g=b.data("url");if(g)g&&c.ajax({dataType:"jsonp",url:g,context:b,success:function(a){debug&&console.log("fetchUrl success",a);a&&a.key1&&c.proxy(e.update,
this)(a.key1)},error:function(a,b,c){console.log("JSON error : ",b)}});else if(!d)return;d={options:a,title:d};b.data("tooltip",d).attr("title","").on("mouseenter.tooltip",f.show).on("mouseleave.tooltip",f.hide)}})},update:function(a){debug&&console.log("tooltip.update(content)",a);return this.each(function(){var b=c(this),d=b.data("tooltip");d&&(d.tooltip?d.tooltip.html(a):(d.title=a,b.data("tooltip",d)))})},destroy:function(){debug&&console.log("tooltip.destroy()");return this.each(function(){c(".tooltip").remove();
var a=c(this),b=a.data("tooltip");b&&a.attr("title",b.title).off(".tooltip").removeData("tooltip")})}};c.fn.tooltip=function(a){if(e[a])return e[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"!==typeof a&&a)c.error("Method "+a+" does not exist on jQuery.tooltip.js");else return e.init.apply(this,arguments)};c.fn.tooltip.defaults={css:"tooltipElement"}})(window.jQuery);